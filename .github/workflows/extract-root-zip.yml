name: Extract root zip

on:
  push:
  workflow_dispatch:

jobs:
  extract:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Find and extract root zip
        run: |
          set -e

          echo "Looking for zip in repo root..."

          ZIP_FILE=$(find . -maxdepth 1 -type f -name "*.zip" -print -quit)

          if [ -z "$ZIP_FILE" ]; then
            echo "‚ùå No zip found in root"
            exit 1
          fi

          echo "‚úÖ Found zip: $ZIP_FILE"

          mkdir -p extracted
          unzip -o "$ZIP_FILE" -d extracted

          echo "üì¶ Extracted contents:"
          ls -la extracted
