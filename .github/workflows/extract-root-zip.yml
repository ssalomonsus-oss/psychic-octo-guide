name: Extract root zip

on:
  push:
  workflow_dispatch:

jobs:
  extract:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Extract the only zip in root to root
        run: |
          set -e

          echo "üîç Searching for zip in repo root..."

          ZIP_FILE=$(find . -maxdepth 1 -type f -name "*.zip" -print -quit)

          if [ -z "$ZIP_FILE" ]; then
            echo "‚ùå No zip found in repo root"
            exit 1
          fi

          echo "‚úÖ Found zip: $ZIP_FILE"
          echo "üì¶ Extracting into repo root..."

          unzip -o "$ZIP_FILE"

          echo "‚úÖ Done. Root contents:"
          ls -la
